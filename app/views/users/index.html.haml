.grid_12
  %h1 All users

.grid_12
  = form_for @search do |f|
    = f.label :first_name_contains, "First Name"
    = f.text_field :first_name_contains
    = f.label :last_name_contains, "Last Name"
    = f.text_field :last_name_contains, :include_blank => true
    = f.submit

.grid_12
  .all_users
    %table
      %tr
        %th= sort_link @search, :first_name
        %th= sort_link @search, :last_name 
        %th= sort_link @search, :gender_id, "Gender"
        %th= sort_link @search, :birthdate
        %th= sort_link @search, :username
        %th
        %th
        %th

      - @users.each do |user|
        %tr{:class => cycle('rowA', 'rowB')}
          %td= user.first_name
          %td= user.last_name
          %td= user.gender.name
          %td= user.birthdate.strftime("%B %d")
          %td= user.username
          %td= link_to 'Show', user
          %td
            - if current_user == user
              = link_to 'Edit', edit_user_path(user)
          %td
            - if current_user == user
              = link_to 'Delete User', user, :confirm => 'Are you sure?', :method => :delete
